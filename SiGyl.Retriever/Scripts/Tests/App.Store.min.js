(function(){var a;requirejs.config({baseUrl:"../scripts",map:{"*":{ko:"knockout"}},shim:{breeze:["Q","jquery","knockout"]},paths:{linq:"linqjs-amd",sinon:"sinon-1.9.1",knockout:"knockout-3.2.0.debug",store:"App/store",b64:"App/b64",configurationMetaData:"tests/metaData/configuration",runtimeMetaData:"tests/metaData/runtime",historyMetaData:"tests/metaData/history",utils:"App/utils"}});a={getMe:function(){}};define("observableExtensions",[],function(){return a});require(["store","configurationMetaData","runtimeMetaData","historyMetaData","sinon"],function(e,b,d,c){QUnit.test("check sinon",function(f){return f.ok(sinon,"sinon installed")});QUnit.test("check store",function(f){return f.ok(e,"store installed")});QUnit.test("store merge data enterprise",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{ConfigurationContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=b.getMe();j=new (e.getMe())(g.schema);i=j.mergeData("Enterprise",{Id:1,Name:"enterprise",Description:"desc"});f.ok(i.RuntimeEnterprise==="interModelRelationObservable","intermodel");f.ok(i.Application==="singleObservable","single");f.ok(i.Sites==="manyObservable","many sites");return f.ok(i.Products==="manyObservable","many products")}));QUnit.test("store merge data runtime command instance",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{history:{rootObservable:this.stub().returns("historyObservable")},RuntimeContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),flexibleRelationObservable:this.stub().returns("flexibleObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=d.getMe();j=new (e.getMe())(g.schema);i=j.mergeData("RuntimeCommandInstance",{Id:1,Name:"rci",Description:"desc"});f.ok(i.Parent==="flexibleObservable","flexibleObservable");return f.ok(i._histories.HistoryCommandInstance==="historyObservable")}));QUnit.test("store merge data history alarm",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{runtime:{rootObservable:this.stub().returns("runtimeRootObservable")},HistoryContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),flexibleRelationObservable:this.stub().returns("flexibleObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=c.getMe();j=new (e.getMe())(g.schema);i=j.mergeData("HistoryAlarm",{Id:1,RuntimeId:22,Name:"h alarm",Description:"desc"});return f.ok(i._runtime==="runtimeRootObservable")}));QUnit.test("store new data enterprise",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{ConfigurationContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=b.getMe();j=new (e.getMe())(g.schema);i=j.changeData(1,"Enterprise",{Id:1,Name:"enterprise",Description:"desc",Timestamp:"AAAAAAAGgBo="});f.ok(i.id===1,"return id");f.ok(i.type==="Enterprise","return type");f.ok(i.value.Name==="enterprise","return value");return f.ok(i.Application="singleObservable","return value processed")}));QUnit.test("change data enterprise same timestamp",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{ConfigurationContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=b.getMe();j=new (e.getMe())(g.schema);i=j.changeData(1,"Enterprise",{Id:1,Name:"enterprise",Description:"desc",Timestamp:"AAAAAAAGgBo="});i=j.changeData(1,"Enterprise",{Id:1,Name:"enterprise1",Description:"desc",Timestamp:"AAAAAAAGgBo="});return f.ok(i.value.Name==="enterprise","return value not changed")}));QUnit.test("change data enterprise new timestamp",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{ConfigurationContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=b.getMe();j=new (e.getMe())(g.schema);i=j.changeData(1,"Enterprise",{Id:1,Name:"enterprise",Description:"desc",Timestamp:"AAAAAAAGgBo="});i=j.changeData(1,"Enterprise",{Id:1,Name:"enterprise1",Description:"desc",Timestamp:"AAAAAAAGj7E="});return f.ok(i.value.Name==="enterprise1","return value not changed")}));QUnit.test("change application enterprises new data",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{ConfigurationContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=b.getMe();j=new (e.getMe())(g.schema);i=j.changeData(1,"Application.Enterprises",{Id:22,Name:"enterprise",Description:"desc",Timestamp:"AAAAAAAGgBo="});f.ok(i.id===1,"return id");f.ok(i.type==="Application.Enterprises","return type");f.ok(i.value.Name==="enterprise","return value");return f.ok(i.Application="singleObservable","return value processed")}));return QUnit.test("delete enterprise",sinon.test(function(f){var g,h,i,j;h={modelExtensions:{ConfigurationContext:{interModelRelationObservable:this.stub().returns("interModelRelationObservable"),manyObservable:this.stub().returns("manyObservable"),singleObservable:this.stub().returns("singleObservable")}}};this.stub(a,"getMe",function(){return h});g=b.getMe();j=new (e.getMe())(g.schema);i=j.changeData(1,"Application.Enterprises",{Id:22,Name:"enterprise",Description:"desc",Timestamp:"AAAAAAAGgBo="});i=j.deleteData(1,"Application.Enterprises",{Id:22,Name:"enterprise",Description:"desc",Timestamp:"AAAAAAAGgBo="});f.ok(i.id===1,"return id");f.ok(i.type==="Application.Enterprises","return type");return f.ok(i.value.Name==="enterprise","return value")}))})}).call(this);