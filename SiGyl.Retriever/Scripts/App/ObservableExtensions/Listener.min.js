(function(){define(["jquery","knockout","listenToken","linq"],function(a,c,e,b,d){return c.extenders.listener=function(j,g){var f,h,i;if(g.subscribeActions){h=g.subscribeActions(j)}f=j.subscribe.bind(j);i=[];j.subscribe=(function(k){return function(l,m,n){var o,p;p=f(l,m,n);if(h&&h.subscribePing){h.subscribePing(p)}if(h&&!i.length&&h.onSubscribe){h.onSubscribe()}i.push(p);o=p.dispose;p.dispose=function(){if(h&&h.disposePing){h.disposePing(p)}i.splice(i.indexOf(p),1);o.bind(this)();if(h&&!i.length&&h.onDispose){return h.onDispose()}};return p}})(this);return j}})}).call(this);