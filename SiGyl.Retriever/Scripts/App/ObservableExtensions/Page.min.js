(function(){define(["jquery","knockout","listenToken","observableExtensions.extender","linq"],function(a,c,e,b,d){return c.extenders.page=function(g,f){g.page=function(l,h){var i,j,k,m;k=c.observable();j=void 0;i=void 0;m=g._addPagerInfo;g._addPagerInfo=function(n){if(m){m(n)}j=b.getMyPagerInfo(g,"page",l);if(j.filter){return j.pages={set:function(){n(this);i.listen();return i.cycle()},first:{isEnabled:c.observable(),value:c.observable(1),url:c.observable(b.getMyFilterUrl(j.filter,"page",l,{page:1}))},previous:{isEnabled:c.observable(),value:c.observable(1),url:c.observable()},current:{value:c.observable(),url:c.observable()},next:{isEnabled:c.observable(),value:c.observable(),url:c.observable()},last:{isEnabled:c.observable(),value:c.observable(),url:c.observable()}}}};if(h){h(g)}g._extendListenToken(function(n){return function(){var o,p,q;i=n();o=i.canAddData;i.canAddData=function(r,s){var t;if(o(r,s)){if(s.length>1&&s.indexOf(r.value)===0){i.reListening=true;f.listener.listen(i);f.listener.cycle();return false}t=true;if(s.indexOf(r.value)>=10){t=false}else{if(s.length>=10){i.data.peek().splice(10,s.length-10)}}j.metaData||(j.metaData={count:0});j.metaData.count+=1;i._getProcessMetaData(j.metaData);return t}};q=i._modifyCollectionRetrieveRequest;i._modifyCollectionRetrieveRequest=function(r){if(q){q(r)}return r.push({Name:"page",Id:l,Values:[{Name:"page",Value:k()||(b.getMyFilterValue(j,"page",l,"page"))||1}]})};p=i._getProcessMetaData;i._getProcessMetaData=function(s){var r;if(p){p(s)}j=b.getMyPagerInfo(g,"page",l);r=k()||Number(b.getMyFilterValue(j,"page",l,"page"))||1;j.isVisible(!k());j.pages.first.url(b.getMyFilterUrl(j.filter,"page",l,{page:1}));j.pages.first.isEnabled(r>1);j.pages.previous.isEnabled(r>2);j.pages.previous.url(b.getMyFilterUrl(j.filter,"page",l,{page:r-1}));j.pages.previous.value(r-1);j.pages.current.value(r);j.pages.current.url(b.getMyFilterUrl(j.filter,"page",l,{page:r}));j.pages.next.value(r+1);j.pages.next.url(b.getMyFilterUrl(j.filter,"page",l,{page:r+1}));j.pages.next.isEnabled(r+1<(Math.ceil(s.count/10)));j.pages.last.url(b.getMyFilterUrl(j.filter,"page",l,{page:Math.ceil(s.count/10)}));j.pages.last.value(Math.ceil(s.count/10));j.pages.last.isEnabled(r<(Math.ceil(s.count/10)));return j.metaData=s};return i}});return function(n){k(n);return g}};return g}})}).call(this);